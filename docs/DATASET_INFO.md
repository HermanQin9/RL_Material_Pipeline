# 数据集信息文档
# Dataset Information

## 📊 当前使用的数据集

### 数据集概览
- **数据来源**: Materials Project (MP) API
- **数据类型**: 材料属性预测数据集
- **预测目标**: 形成能 (Formation Energy per Atom)
- **数据规模**: 200个材料样本

### 📁 文件详情

#### 1. 主数据集 (`all_data_feat.csv`)
- **文件大小**: 410.8 KB
- **数据维度**: 200 行 × 146 列
- **内存占用**: 0.54 MB
- **格式**: CSV (逗号分隔值)

**列信息**:
- `material_id`: 材料ID标识符
- `structure`: 晶体结构信息
- `elements`: 元素组成
- `formula_pretty`: 化学式
- `formation_energy_per_atom`: **目标变量** - 每原子形成能
- 其他141列: Magpie特征 (元素属性统计特征)

#### 2. 缓存文件 (`mp_data_cache_200_test.pkl`)
- **文件大小**: 784.6 KB  
- **格式**: Python Pickle
- **用途**: 预处理后的数据缓存，包含训练/测试划分

### 🎯 目标变量详细分析

#### Formation Energy per Atom (`formation_energy_per_atom`)
- **物理意义**: 材料从组成元素形成的能量变化，是预测材料稳定性的关键指标
- **单位**: eV/atom (电子伏特每原子)
- **数值范围**: 0.000 ~ 5.146 eV/atom
- **统计特征**:
  - 均值: 0.368 eV/atom
  - 标准差: 0.676
  - 中位数: 0.119 eV/atom
  - 分布特点: 正偏斜分布，大部分材料形成能较低

#### 材料样本示例
| 化学式 | 形成能 (eV/atom) | 材料类型 |
|--------|-------------------|----------|
| O2     | 0.387            | 气体分子 |
| C      | 0.994            | 碳单质   |
| Ti     | 0.141            | 金属元素 |
| Si     | 0.349            | 半导体   |
| Nb     | 0.190            | 过渡金属 |

### 🎯 特征工程

#### Magpie特征集 (约140个特征)
包含基于元素周期表属性的统计特征:
- **原子属性**: 原子序数、原子量、熔点等
- **电子属性**: 电负性、价电子数等  
- **结构属性**: 共价半径、离子半径等
- **统计量**: 最小值、最大值、平均值、标准差、众数等

#### 额外特征
- `density`: 密度
- `vpa`: 每原子体积  
- `packing fraction`: 堆积因子
- `spacegroup_num`: 空间群编号
- `crystal_system`: 晶系
- `is_centrosymmetric`: 是否中心对称
- `n_symmetry_ops`: 对称操作数

### 🔬 数据质量

#### 数据统计
- **样本数量**: 200 (小型测试数据集)
- **特征数量**: 145个输入特征 + 1个目标变量
- **缺失值**: 数据集无缺失值
- **数据类型**: 主要为数值型特征

#### 特征分布
- **Magpie特征**: 132个 (90.3%) - 基于元素周期表属性的统计特征
- **结构特征**: 8个 (5.5%) - 晶体结构相关特征
- **标识特征**: 6个 (4.2%) - ID和化学式等标识信息

#### 数据划分 (示例)
- **训练集**: ~156 样本 (78%)
- **验证集**: ~40 样本 (20%) 
- **测试集**: ~4 样本 (2%)

### 📈 使用方式

#### 在流水线中的角色
1. **N0节点**: 从MP API获取或加载缓存数据
2. **N2节点**: 特征矩阵构建和预处理
3. **N1节点**: 缺失值填充 (当前数据集无需此步)
4. **N3节点**: 特征选择 (可选)
5. **N4节点**: 特征缩放标准化
6. **N5节点**: 机器学习模型训练

#### PPO强化学习目标
PPO智能体学习优化整个流水线配置，包括:
- 选择最佳的预处理方法
- 优化特征选择策略
- 调整模型超参数
- 最大化形成能预测的R²得分

### 🎯 数据集特点

#### 材料多样性
- 包含元素周期表多种元素
- 涵盖金属、半导体、气体等多种材料类型
- 形成能范围广泛 (0.000 ~ 5.146 eV/atom)

#### 预测目标详解

**形成能 (Formation Energy per Atom)**:
- 定义: 从元素形成化合物时的能量变化
- 单位: eV/atom (电子伏特每原子)
- 重要性: 预测材料热力学稳定性的关键指标
- 应用: 新材料发现、催化剂设计、能源材料开发

### 📊 数据集限制

1. **规模较小**: 仅200个样本，适合概念验证
2. **类型单一**: 仅包含形成能预测任务
3. **特征固定**: 主要基于Magpie特征集

### 🚀 扩展可能性

1. **增大规模**: 可扩展到Materials Project的数千个材料
2. **多任务学习**: 添加带隙、体模量等其他材料属性
3. **深度特征**: 结合图神经网络处理晶体结构
4. **主动学习**: 基于PPO结果指导新数据收集

---

*最后更新: 2025年7月24日*
